# Sky130 SRAM Macro Library File
# Timing and power characteristics for sky130_sram_2kbyte_1rw1r_32x512_8

library(sky130_sram_macros) {
  technology(cmos);
  delay_model : table_lookup;
  
  # Operating conditions
  nom_process : 1.0;
  nom_voltage : 1.8;
  nom_temperature : 25;
  
  # Units
  time_unit : "1ns";
  voltage_unit : "1V";
  current_unit : "1mA";
  capacitive_load_unit(1, pF);
  
  # SRAM Macro Cell
  cell(sky130_sram_2kbyte_1rw1r_32x512_8) {
    memory() {
      type : ram;
      address_width : 9;
      word_width : 32;
    }
    
    area : 25000; # Area in square microns (estimated)
    
    # Clock pin
    pin(clk0) {
      direction : input;
      capacitance : 0.01;
      clock : true;
    }
    
    # Chip select pin
    pin(csb0) {
      direction : input;
      capacitance : 0.005;
    }
    
    # Write enable pin  
    pin(web0) {
      direction : input;
      capacitance : 0.005;
    }
    
    # Address bus
    bus(addr0) {
      bus_type : address_bus_9;
      direction : input;
      capacitance : 0.003;
    }
    
    # Data input bus
    bus(din0) {
      bus_type : data_bus_32;
      direction : input;
      capacitance : 0.002;
    }
    
    # Data output bus
    bus(dout0) {
      bus_type : data_bus_32;
      direction : output;
      max_capacitance : 0.1;
      
      timing() {
        related_pin : "clk0";
        timing_type : rising_edge;
        cell_rise(scalar) { values("0.8"); }
        cell_fall(scalar) { values("0.8"); }
        rise_transition(scalar) { values("0.2"); }
        fall_transition(scalar) { values("0.2"); }
      }
    }
    
    # Power consumption (estimated)
    leakage_power : 0.1; # mW
    
    # Timing constraints
    timing() {
      related_pin : "clk0";
      timing_type : setup_rising;
      rise_constraint(scalar) { values("0.3"); }
      fall_constraint(scalar) { values("0.3"); }
    }
  }
  
  # Bus definitions
  type(address_bus_9) {
    base_type : array;
    data_type : bit;
    bit_width : 9;
    bit_from : 8;
    bit_to : 0;
    downto : true;
  }
  
  type(data_bus_32) {
    base_type : array;
    data_type : bit;
    bit_width : 32;
    bit_from : 31;
    bit_to : 0;
    downto : true;
  }
}