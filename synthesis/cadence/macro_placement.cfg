# Innovus Macro Placement File for Full SoC
#
# This file defines the locations of the 48 SRAM macros for the `soc_top` design.
# To use this, source the file in place_route.tcl during floorplanning.
#
# The strategy is to place the memory banks on the periphery,
# leaving the center of the core area for standard cell logic.
#
# - RAM Banks (32 macros) are placed in two columns on the left.
# - ROM Banks (16 macros) are placed in a single column on the right.
#
# NOTE: These coordinates are estimates. You will likely need to adjust them
# based on your final floorplan size and aspect ratio. The dimensions
# of the sky130_sram_2kbyte_1rw1r macro are approximately 115um x 385um.

# === RAM Banks (Left Side) ===
# 32 RAM macros, placed in 2 columns of 16

# --- RAM Column 1 (Far Left) ---
placeInstance soc_top.ram_bank_0.*   10 10 N
placeInstance soc_top.ram_bank_1.*   10 400 N
placeInstance soc_top.ram_bank_2.*   10 790 N
placeInstance soc_top.ram_bank_3.*   10 1180 N
placeInstance soc_top.ram_bank_4.*   10 1570 N
placeInstance soc_top.ram_bank_5.*   10 1960 N
placeInstance soc_top.ram_bank_6.*   10 2350 N
placeInstance soc_top.ram_bank_7.*   10 2740 N
placeInstance soc_top.ram_bank_8.*   10 3130 N
placeInstance soc_top.ram_bank_9.*   10 3520 N
placeInstance soc_top.ram_bank_10.*  10 3910 N
placeInstance soc_top.ram_bank_11.*  10 4300 N
placeInstance soc_top.ram_bank_12.*  10 4690 N
placeInstance soc_top.ram_bank_13.*  10 5080 N
placeInstance soc_top.ram_bank_14.*  10 5470 N
placeInstance soc_top.ram_bank_15.*  10 5860 N

# --- RAM Column 2 (Left-Center) ---
placeInstance soc_top.ram_bank_16.*  130 10 N
placeInstance soc_top.ram_bank_17.*  130 400 N
placeInstance soc_top.ram_bank_18.*  130 790 N
placeInstance soc_top.ram_bank_19.*  130 1180 N
placeInstance soc_top.ram_bank_20.*  130 1570 N
placeInstance soc_top.ram_bank_21.*  130 1960 N
placeInstance soc_top.ram_bank_22.*  130 2350 N
placeInstance soc_top.ram_bank_23.*  130 2740 N
placeInstance soc_top.ram_bank_24.*  130 3130 N
placeInstance soc_top.ram_bank_25.*  130 3520 N
placeInstance soc_top.ram_bank_26.*  130 3910 N
placeInstance soc_top.ram_bank_27.*  130 4300 N
placeInstance soc_top.ram_bank_28.*  130 4690 N
placeInstance soc_top.ram_bank_29.*  130 5080 N
placeInstance soc_top.ram_bank_30.*  130 5470 N
placeInstance soc_top.ram_bank_31.*  130 5860 N

# === ROM Banks (Right Side) ===
# 16 ROM macros, placed in a single column on the far right.
# Assumes a total chip width of ~1500um. Adjust X-coordinate as needed.
set rom_x_offset 1300

# --- ROM Column ---
placeInstance soc_top.rom_bank_0.*   $rom_x_offset 10 N
placeInstance soc_top.rom_bank_1.*   $rom_x_offset 400 N
placeInstance soc_top.rom_bank_2.*   $rom_x_offset 790 N
placeInstance soc_top.rom_bank_3.*   $rom_x_offset 1180 N
placeInstance soc_top.rom_bank_4.*   $rom_x_offset 1570 N
placeInstance soc_top.rom_bank_5.*   $rom_x_offset 1960 N
placeInstance soc_top.rom_bank_6.*   $rom_x_offset 2350 N
placeInstance soc_top.rom_bank_7.*   $rom_x_offset 2740 N
placeInstance soc_top.rom_bank_8.*   $rom_x_offset 3130 N
placeInstance soc_top.rom_bank_9.*   $rom_x_offset 3520 N
placeInstance soc_top.rom_bank_10.*  $rom_x_offset 3910 N
placeInstance soc_top.rom_bank_11.*  $rom_x_offset 4300 N
placeInstance soc_top.rom_bank_12.*  $rom_x_offset 4690 N
placeInstance soc_top.rom_bank_13.*  $rom_x_offset 5080 N
placeInstance soc_top.rom_bank_14.*  $rom_x_offset 5470 N
placeInstance soc_top.rom_bank_15.*  $rom_x_offset 5860 N

puts "INFO: Macro placement configuration loaded."
